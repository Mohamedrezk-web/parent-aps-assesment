@if (user$ | async; as response) {
<div
  class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 g-3 h-fit-content overflow-auto"
>
  @for (user of response.data; track user.id) {
  <div class="col">
    <div class="card bg-dark bg-opacity-10 h-100">
      <img [src]="user.avatar" class="card-img-top h-100" />
      <div class="card-body">
        <h5 class="card-title text-uppercase">{{ user.first_name }}</h5>
        <p class="card-text">
          {{ user.email }}
        </p>
        <div class="d-flex justify-content-between">
          <a class="btn btn-primary">View Details</a>
          <a class="btn btn-danger">Delete</a>
        </div>
      </div>
    </div>
  </div>

  }
</div>

<nav class="mt-3">
  <ul class="pagination justify-content-center">
    <li
      class="page-item"
      [ngClass]="{ disabled: activePageIndex() == 1 }"
      (click)="changeToPreviousPage(1, activePageIndex())"
    >
      <span class="page-link">Previous</span>
    </li>
    @for (pageNumber of response.total_pages | numberToArray; track $index) {

    <li
      class="page-item"
      [ngClass]="{ active: activePageIndex() == pageNumber }"
      (click)="changePage(pageNumber)"
    >
      <span class="page-link">{{ pageNumber }}</span>
    </li>
    }

    <li
      class="page-item"
      [ngClass]="{ disabled: activePageIndex() == response.total_pages }"
      (click)="changeToNextPage(response.total_pages, activePageIndex())"
    >
      <span class="page-link">Next</span>
    </li>
  </ul>
</nav>

}@else {
<app-loader></app-loader>
}
